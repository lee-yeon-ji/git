<!doctype html>
<html lang="ko">
<head>
	<meta charset="UTF-8">
	<meta name="viewport"
	      content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
	<meta http-equiv="X-UA-Compatible" content="ie=edge">
	<link rel="stylesheet" type="text/css" href="../css/style1.css">
	<title>Lotto Play</title>
</head>
<body>

<div class="lotto-container">
	<div class="inner wrap">
		<header>
			<div class="header-group">
				<div class="logo-wrap">
					<a href="#none" class="logo-box">
						<img src="../img/img_logo.png">
					</a>
				</div>
			</div>
		</header>

		<div class="contents">
			<div class="user-wrap">
				<div class="item-box">
					<div class="user-mane-box">Test1님</div>
				</div>
				<div class="item-box">
					<div class="point-box">43,000P</div>
					<div class="lobby-btn-box">
						<a href="#none" class="lobby-btn">로비 이동</a>
					</div>
				</div>
			</div>

			<div class="logo-layout-wrap">
				<div class="lotto-tab-list">
					<button class="tab-btn-box" id="TabBtn1">로또</button>
					<button class="tab-btn-box active" id="TabBtn2">구매 하기</button>
					<button class="tab-btn-box" id="TabBtn3">구매 내역</button>
					<button class="tab-btn-box" id="TabBtn4">배분 방식</button>
				</div>

				<div class="lotto-check-group">
					<div class="check-inner">
						<div class="item-box">
							<div class="checked-wrap">
								<article class="info-msg-box">
									<i class="ic-msg"></i>
									<div class="info-msg-txt">5개의 번호를 선택하세요.</div>
								</article>

								<div class="checked-board">
									<div class="chk-wrap">
										<div class="chk-box">
											<div class="subject-box">
												<div class="label-box">A</div>
												<div class="price-box">1,000</div>
											</div>
											<div class="chk-con-box">
												<div class="chk-inner">
													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="1">
															<span class="txt">1</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="2">
															<span class="txt">2</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="3">
															<span class="txt">3</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="4">
															<span class="txt">4</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="5">
															<span class="txt">5</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="6">
															<span class="txt">6</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="7">
															<span class="txt">7</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="8">
															<span class="txt">8</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="9">
															<span class="txt">9</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="10">
															<span class="txt">10</span>
														</label>
													</div>


													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="11">
															<span class="txt">11</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="12">
															<span class="txt">12</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="13">
															<span class="txt">13</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="14">
															<span class="txt">14</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="15">
															<span class="txt">15</span>
														</label>
													</div>


													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="16">
															<span class="txt">16</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="17">
															<span class="txt">17</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="18">
															<span class="txt">18</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="19">
															<span class="txt">19</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="20">
															<span class="txt">20</span>
														</label>
													</div>


													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="21">
															<span class="txt">21</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="22">
															<span class="txt">22</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="23">
															<span class="txt">23</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="24">
															<span class="txt">24</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="25">
															<span class="txt">25</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="26">
															<span class="txt">26</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="27">
															<span class="txt">27</span>
														</label>
													</div>

													<div class="num-btn">
														<label>
															<input type="checkbox" name="number" value="28">
															<span class="txt">28</span>
														</label>
													</div>
												</div>
												<div class="option-btn-box">
													<div class="option-btn">
														<label>
															<input type="radio" name="option" value="auto">
															<span class="txt">자동선택</span><i></i>
														</label>
													</div>
													<div class="option-btn">
														<label>
															<input type="radio" name="option" value="cancel">
															<span class="txt">취소</span><i></i>
														</label>
													</div>
												</div>

											</div>
										</div>
									</div>
								</div>
								<div class="buy-wrap">
									<div class="total-buy-box">
										<div class="subject-box">대량 구매</div>
										<div class="total-num-box">1</div>
									</div>

									<div class="buy-btn-box">
										<button class="buy-btn">로또 구매</button>
									</div>
								</div>

							</div>
						</div>

						<div class="item-box">
							<div class="number-buy-wrap">
								<article class="info-msg-box">
									<i class="ic-msg"></i>
									<div class="info-msg-txt">구매번호 리스트</div>
								</article>

								<div class="number-list-container">

								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>


<script>

    //num-btn 노드 리스트를 numbtnList에 담음
    let numbtnList = document.querySelectorAll('.num-btn');


    //numbtnList에서 각 numbtn 노드를 가지고 옴
    numbtnList.forEach(function (numbtn) {

        //numbtn에 input 타입에 checkbox를 찾고 변경 이벤트 핸들링 설정
        numbtn.querySelector('input[type=checkbox]').addEventListener('change', function () {

            //numbtn에서 chk-inner를 가지고 있는 가까운 부모를 game에 담음
            let game = this.closest('.chk-inner');

            //input type에 checkbox가 체크 되어있는 노드 리스트를 checked에 담음
            let checked = game.querySelectorAll('input[type=checkbox]:checked');



            //checked가 5개 미만일 때 지금 체크된 checked를 제거하고 알림창으로 안내함.
            if (checked.length > 5) {
                this.checked = false;
                alert('5개만 체크해 주세요.')
            };
        });
    });

    //로또구매 버튼
    const buybtn = document.querySelector('.buy-btn');

    //로또구매 이벤트 핸들링
    buybtn.addEventListener('click', function () {


        buy();

    });



    function buy () {
        const chkBtn = document.querySelector('.chk-box');

        let checkedList = chkBtn.querySelectorAll('input[type=checkbox]:checked');


        const chkContainer = document.querySelector('.number-list-container');

        let str = '';
        let bgColor;

        str += '<div class="number-list">'

        checkedList.forEach(function(chk){
            let chkValue = chk.value;


            if(chkValue >= 1 && chkValue <= 5){
                bgColor = "bg-yellow"
            }else if(chkValue >= 6 && chkValue <= 10){
                bgColor = "bg-blue"
            }else if(chkValue >= 11 && chkValue <= 15){
                bgColor = "bg-red"
            }else {
                bgColor = "bg-green"
            }

            str +=`<div class="buy-number ${bgColor}">${chkValue}</div>`


        })

		    str += "</div>"

        chkContainer.innerHTML = str;
    }


</script>

</body>
</html>
