<html lang="en">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width">
	<link rel="stylesheet" type="text/css" href="스타일러style.css"/>
</head>
<body>
<div class="content-service-view">
	<div class="guide-tit-box">
		<h2 class="guide-tit-txt-box"><strong>Hướng dẫn lắp đặt <span class="lg-red">Styler</span> hoàn hảo cho ngôi nhà của bạn</strong></h2>
		<h3 class="guide-sub-txt-box">
			Everyday Everywear, ALL NEW Styler
			Kiểm tra phương pháp cài đặt Styler.
		</h3>
	</div>
	<div class="visual-box">
		<div class="visual-inner">
			<div class="visual-wrap">
				<div class="slide-group">
					<div class="slide-list" data-slides="1">
						<input type="hidden" name="currentIndex" value="0">
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=dOkPPicmWVo2uo8Soc3Q9A&portalId=P1"
							     alt="Slide 1" class="web">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=BFJvdmAGKXhqFk2jBbrag&portalId=P1"
							     alt="Slide 2">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=D4KQ8lolJUE6ZfRTjbIrPw&portalId=P1"
							     alt="Slide 3">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=kJNP5q1T8BKeag4LdGXLA&portalId=P1"
							     alt=" Slide 4">
						</div>
					</div>
					<div class="navigation">
						<button disabled class="circle-prev" onclick="prevSlide(this)">❮</button>
						<button class="circle-next" onclick="nextSlide(this)">❯</button>
					</div>
				</div>
			</div>
		</div>
	</div>


	<div class="review-box">
		<div class="review-inner">
			<div class="review-tit-box">Trường hợp cài đặt khách hàng Styler</div>
			<div class="review-wrap">
				<div class="slide-group">
					<div class="slide-list" data-slides="3">
						<input type="hidden" name="currentIndex" value="0">
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=MbYNjWskXmWWarsj1QFpQ&portalId=P1"
							     alt="Slide 1">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=qBtHfhWUDmRrtKczgm0g&portalId=P1"
							     alt="Slide 2">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=6gLGCf2yLpCdeLq5UaqSug&portalId=P1"
							     alt="Slide 3">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=sP2iLlRudqXWQSgJ7SpQpA&portalId=P1"
							alt=" Slide 4">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=j7ysgYqYsvgWVDJPnfXaQ&portalId=P1"
							     alt="Slide 5">
						</div>

						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=5UDHKgUlUUV6DHYhn3ksaw&portalId=P1"
							     alt="Slide 6">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=4oxIPp4QTLFapP5Cic4UA&portalId=P1"
							     alt="Slide 7 ">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=UwdqfVCaulkeqhC7vDp4yA&portalId=P1"
							     alt="Slide 8">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=BvKGicsOXi3niWvBffRkGw&portalId=P1"
							     alt="Slide 9">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=HvYQIHb6ZURXQcibg5aD6Q&portalId=P1"
							     alt="Slide 10">
						</div>

						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=QXv8q9TckpG7rWwYHmbJvw&portalId=P1"
							     alt="Slide 11">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=FUr8aeuYnyK1dTjdNBqg&portalId=P1"
							     alt="Slide 12">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=hSeDMxNHNCEZbDCUjozaXA&portalId=P1"
							     alt="Slide 13">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=wtBIsZqkS6u6WeLxMycBQ&portalId=P1"
							     alt="Slide 14">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=4paMgnO2bd2WXvuG8bzcw&portalId=P1"
							     alt="Slide 15">
						</div>
						<div class="slide">
							<img src="https://gscs.lge.com:/gscs/support/fileupload/downloadFile.do?fileId=ZbtqyJMVSw8HrePY05Qbg&portalId=P1"
							     alt="Slide 16">
						</div>
					</div>
					<div class="navigation">
						<button disabled class="circle-prev" onclick="prevSlide(this)">❮</button>
						<button class="circle-next" onclick="nextSlide(this)">❯</button>
					</div>
				</div>
			</div>
		</div>
	</div>
	<p class="help-txt">Hướng dẫn này được tạo cho tất cả các kiểu máy, vì vậy hình ảnh hoặc nội dung có thể khác với hướng dẫn của bạn
		sản phẩm.</p>
</div>



<script>


    (function(){
        // let currentIndex = 0;

        function showSlide(element, direction) {

		        const slidesGroup = element.parentElement.parentElement;
            const slides = slidesGroup.querySelector('.slide-list');


            // if(slides.classList.contains('one-slide')){
            //     alert('하나')
            // }else if(slides.classList.contains('two-slide')){
            //     alert('n개')
            // }else if(slides.classList.contains('three-slide')){
            //     alert('2개')
            // }else if(slides.classList.contains('three-slide')){
            //     alert('2개')
            // }else if(slides.classList.contains('three-slide')){
            //     alert('2개')
            // }

            const slidesToShow = slides.dataset.slides; // 한 번에 보여줄 슬라이드 개수
            const totalSlides = slides.querySelectorAll('.slide').length;
            let maxIndex = totalSlides - slidesToShow;
            // totalSlides : 10
		        // slidesToShow : 5 (모바일에서는 무조건 1)
		        // maxIndex = 5

            const prevButton = slidesGroup.querySelector('.circle-prev');
            const nextButton = slidesGroup.querySelector('.circle-next');

            const screenWidth = window.innerWidth;

            let currentIndex = Number(slides.querySelector('input[name=currentIndex]').value)

            if(direction === 'next'){
                currentIndex = currentIndex + 1;
            }else if(direction === 'prev'){
                currentIndex = currentIndex - 1;
            }

            slides.querySelector('input[name=currentIndex]').value = currentIndex;



            if(screenWidth <= 880){
                maxIndex = totalSlides - 1;

                console.log("================== currentIndex =============================")
                console.log(currentIndex)

                slides.style.transform = `translateX(-${currentIndex * 100}%)`;

            } else{

                console.log("================== currentIndex =============================")
                console.log(currentIndex)

                slides.style.transform = `translateX(-${currentIndex * (100 / slidesToShow)}%)`;
            }


            // // 마지막 슬라이드에서 next 버튼 클릭 시 첫번째 슬라이드로 이동하는 기능
            // if (currentIdx > maxIndex) {
            //     currentIndex = 0; // 마지막 슬라이드 다음에 처음으로 돌아감
            // }

    		    if(currentIndex  == maxIndex){

                console.log("벌써?")

                nextButton.disabled = true;
                nextButton.style = 'background-color: #dddfdd';
            } else{
                nextButton.disabled = false;
                nextButton.style = 'background-color: rgba(0, 0, 0, 0.5)';
            }


            if(currentIndex == 0){
                prevButton.disabled = true;
                prevButton.style = 'background-color: #dddfdd';
            } else{
                prevButton.disabled =  false;
                prevButton.style = 'background-color: rgba(0, 0, 0, 0.5)';
            }


        }




        function nextSlide(element) {
            showSlide(element,'next');
        }

        function prevSlide(element) {
            showSlide(element, 'prev');
        }

        window.nextSlide = nextSlide;
        window.prevSlide = prevSlide;
    })();



    // document.querySelectorAll('.slide-group').forEach( (slideGroup) => {
		//
    //     slideGroup.querySelector('.circle-next').addEventListener('click',function (){
		//
    //         console.log(this)
		//
    //     })
		//
    // })



    (function(){
        function Accordion(groupNode){
            this.accListNode = groupNode;
            this.buttons = [];
            this.buttons = Array.prototype.slice.call(this.accListNode.querySelectorAll('.accordion-trigger'));
            this.accPanels = [];
            this.buttons.forEach(button => {
                const accPanel = document.getElementById(button.getAttribute('aria-controls'));
                this.accPanels.push(accPanel);
                button.addEventListener('click', this.onClick.bind(this));
            });
        }

        Accordion.prototype.onClick = function(e) {
            const target = e.currentTarget;
            const pannelId = target.getAttribute('aria-controls');
            const pannerEl = document.getElementById(pannelId);
            const toggled = target.getAttribute('aria-expanded');

            if(toggled === "true") {
                target.setAttribute('aria-expanded', 'false');
                pannerEl.setAttribute('hidden', '');
            } else {
                this.buttons.forEach(btn => {
                    btn.setAttribute('aria-expanded', 'false');
                });
                this.accPanels.forEach(accPannel => {
                    accPannel.setAttribute('hidden', '');
                });

                target.setAttribute('aria-expanded', 'true');
                pannerEl.removeAttribute('hidden');
                window.scrollTo({
                    top: (window.innerWidth > 767) ? target.offsetTop : target.offsetTop - 50,
                    behavior:"smooth"
                });
            }
        };

        const accordions = document.querySelectorAll('.cs-accordion');
        accordions.forEach(node => {
            new Accordion(node);
        });
    })();

    (function () {
        function CsTabs(groupNode) {
            this.tablistNode = groupNode;
            this.tabs = [];
            this.firstTab = null;
            this.lastTab = null;
            this.tabs = Array.prototype.slice.call(this.tablistNode.querySelectorAll("[role=tab]"));
            this.tabpanels = [];
            for (var i = 0; i < this.tabs.length; i += 1) {
                var tab = this.tabs[i];
                var tabpanel = document.getElementById(tab.getAttribute("aria-controls"));
                tab.tabIndex = -1;
                tab.setAttribute("aria-selected", "false");
                this.tabpanels.push(tabpanel);
                tab.addEventListener("keydown", this.onKeydown.bind(this));
                tab.addEventListener("click", this.onClick.bind(this));
                if (!this.firstTab) {
                    this.firstTab = tab;
                }
                this.lastTab = tab;
            }
            this.setSelectedTab(this.firstTab);
        }
        CsTabs.prototype.setSelectedTab = function (currentTab) {
            for (var i = 0; i < this.tabs.length; i += 1) {
                var tab = this.tabs[i];
                if (currentTab === tab) {
                    tab.setAttribute("aria-selected", "true");
                    tab.removeAttribute("tabindex");
                    this.tabpanels[i].classList.remove("is-hidden");
                } else {
                    tab.setAttribute("aria-selected", "false");
                    tab.tabIndex = -1;
                    this.tabpanels[i].classList.add("is-hidden");
                }
            }
        };
        CsTabs.prototype.moveFocusToTab = function (currentTab) {
            currentTab.focus();
        };
        CsTabs.prototype.moveFocusToPreviousTab = function (currentTab) {
            var index;
            if (currentTab === this.firstTab) {
                this.moveFocusToTab(this.lastTab);
            } else {
                index = this.tabs.indexOf(currentTab);
                this.moveFocusToTab(this.tabs[index - 1]);
            }
        };
        CsTabs.prototype.moveFocusToNextTab = function (currentTab) {
            var index;
            if (currentTab === this.lastTab) {
                this.moveFocusToTab(this.firstTab);
            } else {
                index = this.tabs.indexOf(currentTab);
                this.moveFocusToTab(this.tabs[index + 1]);
            }
        };
        CsTabs.prototype.onKeydown = function (event) {
            var tgt = event.currentTarget,
                flag = false;
            switch (event.key) {
                case "ArrowLeft":
                    this.moveFocusToPreviousTab(tgt);
                    flag = true;
                    break;
                case "ArrowRight":
                    this.moveFocusToNextTab(tgt);
                    flag = true;
                    break;
                case "Home":
                    this.moveFocusToTab(this.firstTab);
                    flag = true;
                    break;
                case "End":
                    this.moveFocusToTab(this.lastTab);
                    flag = true;
                    break;
                default:
                    break;
            }
            if (flag) {
                event.stopPropagation();
                event.preventDefault();
            }
        };
        CsTabs.prototype.onClick = function (event) {
            this.setSelectedTab(event.currentTarget);
        };
        var tablists = document.querySelectorAll("[role=tablist].cs-guide-tab-list");
        for (var i = 0; i < tablists.length; i++) {
            new CsTabs(tablists[i]);
        }
    })();
</script>
</body>
</html>
